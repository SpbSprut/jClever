(function(a){a.fn.jClever=function(j){var j=a.extend({applyTo:{select:true,checkbox:true,radio:true,button:true,file:true,input:true,textarea:true},validate:{state:false,items:{}},errorTemplate:'<span class="jClever-error-label"></span>',errorClassTemplate:"jClever-error-label",selfClass:"default",fileUploadText:"Загрузить"},j);
var i={};var h=[];var c={};var e={isNumeric:function(l){var k=/^\d+$/;return k.test(l);},isString:function(l){var k=/^[a-zA-ZА-Яа-я]+$/;return k.test(l);
},isAnyText:function(l){var k=/^[a-zA-ZА-Яа-я0-9]+$/;return k.test(l);},isEmail:function(l){var k=/^([a-z0-9_-]+\.)*[a-z0-9_-]+@[a-z0-9_-]+(\.[a-z0-9_-]+)*\.[a-z]{2,4}$/;
return k.test(l);},isSiteURL:function(l){var k=/^((https?|ftp)\:\/\/)?([a-z0-9]{1,})([a-z0-9-.]*)\.([a-z]{2,4})$/;return k.test(l);}};var b=999;var g=1;
var d={init:function(k){if(j.validate.state===true){a(k).submit(function(){var s=a(k).get(0);var u={};a(s).find(".error").removeClass("error");for(var p in j.validate.items){if(!(s[p]===undefined)){for(var n in j.validate.items[p]){switch(n){case"required":if(s[p].value==""||s[p].value==a(s[p]).data("placeholder")){u[p]=j.validate.items[p][n];
}break;case"numeric":if(e.isNumeric(s[p].value)!=true){u[p]=j.validate.items[p][n];}break;case"str":if(e.isString(s[p].value)!=true){u[p]=j.validate.items[p][n];
}break;case"stringAndNumeric":if(e.isAnyText(s[p].value)!=true){u[p]=j.validate.items[p][n];}break;case"mail":if(e.isEmail(s[p].value)!=true){u[p]=j.validate.items[p][n];
}break;case"siteURL":if(e.isSiteURL(s[p].value)!=true){u[p]=j.validate.items[p][n];}break;}}}}var o=0;for(var t in u){if(s[t]!=undefined){var m=u[t];var r=a(s[t]);
var l=r.parents(".jClever-element");var q=l.find("."+j.errorClassTemplate);l.addClass("error");q.text(m);o++;}}if(o){return false;}else{return true;}});
}a(k).find("input[type=text], input[type=password], textarea").each(function(){var m=a(this);var l=a(this).data("placeholder");if(typeof l==="string"){if(m.val()==""){m.val(l).addClass("placeholdered");
}m.focusin(function(){if(m.val()==l){m.val("").removeClass("placeholdered");}});m.focusout(function(){if(m.val()==""){m.val(l).addClass("placeholdered");
}});}});if(j.applyTo.select){a(k).find("select").each(function(){var l=a(this);if(typeof l.attr("multiple")=="undefined"){d.selectActivate(this,b,g);}else{d.multiSelectActivate(this,b,g);
}c[l.attr("name")]={type:"select",value:l.attr("value")};b--;g++;});}if(j.applyTo.checkbox){a(k).find("input[type=checkbox]").each(function(){c[a(this).attr("name")]={type:"checkbox",value:(a(this).is(":checked")?1:0)};
d.checkboxActivate(this,g);g++;});}if(j.applyTo.radio){a(k).find("input[type=radio]").each(function(){c[a(this).attr("name")]={type:"radio",value:(a(this).is(":checked")?1:0)};
d.radioActivate(this,g);g++;});}if(j.applyTo.file){a(k).find("input[type=file]").each(function(){c[a(this).attr("name")]={type:"file",value:""};d.fileActivate(this,g);
g++;});}if(j.applyTo.button){a(k).find("input[type=submit], input[type=reset], input[type=button]").each(function(){d.submitActivate(this,g);g++;});}if(j.applyTo.input){a(k).find("input[type=text], input[type=password]").each(function(){d.inputActivate(this,g);
g++;});}if(j.applyTo.textarea){a(k).find("textarea").each(function(){d.textareaActivate(this,g);g++;});}a(k).find("button[type=reset]").click(function(){d.reset(a(k));
});},destroy:function(k){k.find("select").each(function(){var l=a(this).clone();a(this).parents(".jClever-element").empty().after(l);});k.find("input[type=checkbox]").each(function(){var l=a(this).removeClass("hidden").clone();
a(this).parents(".jClever-element").empty().after(l);});k.find("input[type=radio]").each(function(){var l=a(this).removeClass("hidden").clone();a(this).parents(".jClever-element").empty().after(l);
});k.find(".jClever-element").remove();k.removeClass("clevered");},reset:function(k){k.find("input[type=radio], input[type=checkbox], select, input[type=file]").each(function(){if(c[a(this).attr("name")]){switch(c[a(this).attr("name")].type){case"select":d.selectSetPosition(a(this),c[a(this).attr("name")].value);
break;case"checkbox":d.checkboxSetState(a(this),c[a(this).attr("name")].value);break;case"radio":d.radioSetState(a(this),c[a(this).attr("name")].value);
break;case"file":d.fileSetState(a(this),c[a(this).attr("name")].value);break;default:return;break;}}});},selectSetPosition:function(k,l){k.find("option").removeAttr("selected");
k.find('option[value="'+l+'"]').attr("selected","selected");k.trigger("change");},selectAdd:function(k){a(element).find(k).each(function(){c[a(this).attr("name")]={type:"select",value:a(this).attr("value")};
d.selectActivate(this,b,g);b--;g++;});},checkboxSetState:function(l,k){if(k==1){l.attr("checked","checked");}else{l.removeAttr("checked");}l.trigger("change");
},radioSetState:function(k,l){if(l==1){k.attr("checked","checked");}else{k.removeAttr("checked");}k.trigger("change");},fileSetState:function(k,l){k.parents(".jClever-element-file").find(".jClever-element-file-name").text(l);
},selectCollectionExtend:function(l,k){l[k.attr("name")]={object:k,updateFromHTML:function(m){a("select[name="+this.object[0].name+"]").html(m).trigger("update");
return false;},updateFromJsonObject:function(o){var n="";for(var m in o){n+='<option value="'+m+'">'+o[m]+"</option>";}a("select[name="+this.object[0].name+"]").html(n).trigger("update");
return false;}};return l;},multiSelectActivate:function(t,n,o){h[a(t).attr("name")]={};i=d.selectCollectionExtend(i,a(t));var m=a(t).width();a(t).wrap('<div class="jClever-element" style="z-index:'+n+';"><div class="jClever-element-select-wrapper multiselect" style="width:'+m+"px; z-index:"+n+';"><div class="jClever-element-select-wrapper-design"><div class="jClever-element-select-wrapper-design">').after('<span class="jClever-element-select-center"></span><span class="jClever-element-select-right"><span>v</span></span><div class="jClever-element-select-list-wrapper" style="z-index:'+n+';"><ul class="jClever-element-select-list"></ul></div>');
var w=a(t).parents(".jClever-element").attr("tabindex",o);var v=w.find(".jClever-element-select-center");var k=w.find(".jClever-element-select-right");
var r=w.find(".jClever-element-select-list");var q=w.find(".jClever-element-select-list-wrapper");var u=a("label[for="+a(t).attr("id")+"]");if(a(t).attr("disabled")){w.addClass("disabled");
}w.append(j.errorTemplate);a(t).find("option").each(function(){if(a(this).is(":selected")){w.find(".jClever-element-select-list").append(a('<li class="active" data-value="'+a(this).val()+'"><span><i>'+a(this).text()+"</i></span></li>"));
}else{w.find(".jClever-element-select-list").append(a('<li data-value="'+a(this).val()+'"><span><i>'+a(this).text()+"</i></span></li>"));}});if(a(t).find(":selected")){var p="";
a(t).find("option:selected").each(function(){p+=a(this).text()+", ";});v.text(p.substring(0,p.length-2));}else{v.text(a(t).find("option:eq(0)").text());
}w.on("click.jClever",".jClever-element-select-center, .jClever-element-select-right",function(){if(a(t).attr("disabled")){return false;}if(q.is(":visible")){a(".jClever-element-select-list-wrapper").hide();
}else{a(".jClever-element-select-list-wrapper").hide();q.show();w.trigger("focus");h[a(t).attr("name")]=q.jScrollPane().data("jsp");}});q.on("blur.jClever",function(){a(this).hide();
});w.on("click.jClever","li",function(x){var y=a(this).attr("data-value");a(this).toggleClass("active");if(a(this).is(".active")){a(t).find('option[value="'+y+'"]').attr("selected","selected");
}else{a(t).find('option[value="'+y+'"]').removeAttr("selected");}a(t).trigger("change");return false;});a(t).on("change.jClever",function(){if(a(this).attr("disabled")){return false;
}var x="";a(t).find("option:selected").each(function(){x+=a(this).text()+", ";});v.text(x.substring(0,x.length-2));});a(t).on("update.jClever",function(){var x=a(this).parents(".jClever-element-select-wrapper").find(".jClever-element-select-list").empty();
a(this).find("option").each(function(){x.append(a('<li data-value="'+a(this).val()+'"><span><i>'+a(this).text()+"</i></span></li>"));});a(this).parents(".jClever-element-select-wrapper").find(".jClever-element-select-center").text(a(t).find("option:eq(0)").text());
});w.on("focus.jClever",function(){a(this).addClass("focused");}).blur(function(){a(this).removeClass("focused");});u.on("click.jClever",function(){w.trigger("focus");
q.show();h[a(t).attr("name")]=q.jScrollPane().data("jsp");});var s="";var l=null;w.on("keydown.jClever",function(y){var x=a(t)[0].selectedIndex;switch(y.keyCode){case 40:if(a(t).attr("disabled")){return false;
}if(x<a(t).find("option").length-1){x++;}break;case 38:if(a(t).attr("disabled")){return false;}if(x>0){x--;}break;case 13:if(q.is(":visible")){q.hide();
}else{if(a(t).attr("disabled")){return false;}q.show();h[a(t).attr("name")]=q.jScrollPane().data("jsp");}break;case 32:if(q.is(":visible")){q.hide();}else{if(a(t).attr("disabled")){return false;
}q.show();h[a(t).attr("name")]=q.jScrollPane().data("jsp");}break;case 9:q.hide();return true;default:s+=String.fromCharCode(y.keyCode);clearTimeout(l);
l=setTimeout(function(){var D=0;var C=a(t)[0].options.length;for(var A=0;A<C;A++){if(typeof a(t)[0].options[A].text=="string"){var z=a(t)[0].options[A].text.toUpperCase();
var B=new RegExp("^"+s,"i");if(B.test(z)){x=D;a(t)[0].selectedIndex=x;w.find("li.selected").removeClass("selected");w.find("li:eq("+x+")").addClass("selected");
w.find("option").removeAttr("selected");w.find("option:eq("+x+")").attr("selected","selected");a(t).trigger("change");if(q.is(":visible")){h[a(t).attr("name")].scrollToElement(w.find("li:eq("+x+")"));
}break;}D++;}}s="";},500);break;return false;}a(t)[0].selectedIndex=x;w.find("li.selected").removeClass("selected");w.find("li:eq("+x+")").addClass("selected");
w.find("option").removeAttr("selected");w.find("option:eq("+x+")").attr("selected","selected");a(t).trigger("change");if(q.is(":visible")){h[a(t).attr("name")].scrollToElement(w.find("li:eq("+x+")"));
}return false;});},selectActivate:function(s,n,o){h[a(s).attr("name")]={};i=d.selectCollectionExtend(i,a(s));var m=a(s).width();a(s).wrap('<div class="jClever-element" style="z-index:'+n+';"><div class="jClever-element-select-wrapper" style="width:'+m+"px; z-index:"+n+';"><div class="jClever-element-select-wrapper-design"><div class="jClever-element-select-wrapper-design">').after('<span class="jClever-element-select-center"></span><span class="jClever-element-select-right"><span>v</span></span><div class="jClever-element-select-list-wrapper" style="z-index:'+n+';"><ul class="jClever-element-select-list"></ul></div>');
var v=a(s).parents(".jClever-element").attr("tabindex",o);var u=v.find(".jClever-element-select-center");var k=v.find(".jClever-element-select-right");
var q=v.find(".jClever-element-select-list");var p=v.find(".jClever-element-select-list-wrapper");var t=a("label[for="+a(s).attr("id")+"]");if(a(s).attr("disabled")){v.addClass("disabled");
}v.append(j.errorTemplate);a(s).find("option").each(function(){if(a(this).is(":selected")){v.find(".jClever-element-select-list").append(a('<li class="active" data-value="'+a(this).val()+'"><span><i>'+a(this).text()+"</i></span></li>"));
}else{v.find(".jClever-element-select-list").append(a('<li data-value="'+a(this).val()+'"><span><i>'+a(this).text()+"</i></span></li>"));}});if(a(s).find(":selected")){u.text(a(s).find("option:selected").text());
}else{u.text(a(s).find("option:eq(0)").text());}v.on("click.jClever",".jClever-element-select-center, .jClever-element-select-right",function(){if(a(s).attr("disabled")){return false;
}if(p.is(":visible")){a(".jClever-element-select-list-wrapper").hide();}else{a(".jClever-element-select-list-wrapper").hide();p.show();v.trigger("focus");
h[a(s).attr("name")]=p.jScrollPane().data("jsp");}});p.on("blur.jClever",function(){a(this).hide();});v.on("click.jClever","li",function(w){var x=a(this).attr("data-value");
q.find("li.active").removeClass("active");a(this).addClass("active");a(s).find("option").removeAttr("selected");a(s).find('option[value="'+x+'"]').attr("selected","selected");
a(s).trigger("change");p.hide();return false;});a(s).on("change.jClever",function(){if(a(this).attr("disabled")){return false;}u.text(a(this).find(":selected").text());
});a(s).on("update.jClever",function(){var w=a(this).parents(".jClever-element-select-wrapper").find(".jClever-element-select-list").empty();a(this).find("option").each(function(){w.append(a('<li data-value="'+a(this).val()+'"><span><i>'+a(this).text()+"</i></span></li>"));
});a(this).parents(".jClever-element-select-wrapper").find(".jClever-element-select-center").text(a(s).find("option:eq(0)").text());});v.on("focus.jClever",function(){a(this).addClass("focused");
}).blur(function(){a(this).removeClass("focused");});t.on("click.jClever",function(){v.trigger("focus");p.show();h[a(s).attr("name")]=p.jScrollPane().data("jsp");
});var r="";var l=null;v.on("keydown.jClever",function(x){var w=a(s)[0].selectedIndex;switch(x.keyCode){case 40:if(a(s).attr("disabled")){return false;
}if(w<a(s).find("option").length-1){w++;}break;case 38:if(a(s).attr("disabled")){return false;}if(w>0){w--;}break;case 13:if(p.is(":visible")){p.hide();
}else{if(a(s).attr("disabled")){return false;}p.show();h[a(s).attr("name")]=p.jScrollPane().data("jsp");}break;case 32:if(p.is(":visible")){p.hide();}else{if(a(s).attr("disabled")){return false;
}p.show();h[a(s).attr("name")]=p.jScrollPane().data("jsp");}break;case 9:p.hide();return true;default:r+=String.fromCharCode(x.keyCode);clearTimeout(l);
l=setTimeout(function(){var C=0;var B=a(s)[0].options.length;for(var z=0;z<B;z++){if(typeof a(s)[0].options[z].text=="string"){var y=a(s)[0].options[z].text.toUpperCase();
var A=new RegExp("^"+r,"i");if(A.test(y)){w=C;a(s)[0].selectedIndex=w;v.find("li.selected").removeClass("selected");v.find("li:eq("+w+")").addClass("selected");
v.find("option").removeAttr("selected");v.find("option:eq("+w+")").attr("selected","selected");a(s).trigger("change");if(p.is(":visible")){h[a(s).attr("name")].scrollToElement(v.find("li:eq("+w+")"));
}break;}C++;}}r="";},500);break;return false;}a(s)[0].selectedIndex=w;v.find("li.selected").removeClass("selected");v.find("li:eq("+w+")").addClass("selected");
v.find("option").removeAttr("selected");v.find("option:eq("+w+")").attr("selected","selected");a(s).trigger("change");if(p.is(":visible")){h[a(s).attr("name")].scrollToElement(v.find("li:eq("+w+")"));
}return false;});},checkboxActivate:function(l,k){var m=a(l).wrap('<div class="jClever-element" tabindex="'+k+'">').addClass("hidden").after('<span class="jClever-element-checkbox-twins"><span class="jClever-element-checkbox-twins-element"></span><span class="jClever-element-checkbox-twins-color"></span></span>');
var n=m.attr("id");m.parents(".jClever-element").append(j.errorTemplate);if(m.is(":checked")){m.next(".jClever-element-checkbox-twins").addClass("checked");
a("label[for="+n+"]").addClass("active");}if(a(l).attr("disabled")){m.parents(".jClever-element").addClass("disabled");}m.on("change.jClever",function(){if(a(this).attr("disabled")){return false;
}if(a(this).is(":checked")){m.next(".jClever-element-checkbox-twins").addClass("checked");a("label[for="+n+"]").addClass("active");}else{m.next(".jClever-element-checkbox-twins").removeClass("checked");
a("label[for="+n+"]").removeClass("active");}});m.next(".jClever-element-checkbox-twins").on("click",function(){var o=a(this);if(o.prev("input[type=checkbox]").is(":checked")){o.prev("input[type=checkbox]").removeAttr("checked");
}else{o.prev("input[type=checkbox]").attr("checked","checked");}o.prev("input[type=checkbox]").trigger("change");});m.parent(".jClever-element").on("keydown.jClever",function(p){var o=a(this).find("input[type=checkbox]");
switch(p.keyCode){case 32:if(o.is(":checked")){o.removeAttr("checked");}else{o.attr("checked","checked");}o.trigger("change");break;default:return;break;
}return false;});m.parent(".jClever-element").focus(function(){a(this).addClass("focused");}).blur(function(){a(this).removeClass("focused");});},radioActivate:function(l,m){var n=a(l).wrap('<div class="jClever-element" tabindex="'+m+'">').addClass("hidden").after('<span class="jClever-element-radio-twins"><span class="jClever-element-radio-twins-element"></span><span class="jClever-element-radio-twins-color"></span></span>');
var k=n.attr("id");n.parents(".jClever-element").append(j.errorTemplate);if(n.is(":checked")){n.next(".jClever-element-radio-twins").addClass("checked");
a("label[for="+k+"]").addClass("active");}if(a(l).attr("disabled")){n.parents(".jClever-element").addClass("disabled");return;}n.on("change.jClever",function(){if(a(this).attr("disabled")){return false;
}var o=a(this);if(o.is(":checked")){o.next(".jClever-element-radio-twins").addClass("checked");a("label[for="+k+"]").addClass("active");}else{o.next(".jClever-element-radio-twins").removeClass("checked");
a("label[for="+k+"]").removeClass("active");}a('input:radio[name="'+a(l).attr("name")+'"]').not(a(l)).each(function(){var p=a(this);p.attr("checked",false).next(".jClever-element-radio-twins").removeClass("checked");
a("label[for="+a(this).attr("id")+"]").removeClass("active");});});n.next(".jClever-element-radio-twins").on("click",function(){var o=a(this);if(o.prev("input[type=radio]").is(":checked")){o.prev("input[type=radio]").attr("checked");
}else{o.prev("input[type=radio]").attr("checked","checked");}o.prev("input[type=radio]").trigger("change");});n.parent(".jClever-element").on("keydown.jClever",function(o){var p=a(this).find("input[type=radio]");
switch(o.keyCode){case 32:if(p.is(":checked")){p.removeAttr("checked");}else{p.attr("checked","checked");}p.trigger("change");break;default:return;break;
}return false;});n.parent(".jClever-element").focus(function(){a(this).addClass("focused");}).blur(function(){a(this).removeClass("focused");});},submitActivate:function(k,l){var m=a(k).attr("value");
a(k).replaceWith('<button type="'+k.type+'" name="'+k.name+'" id="'+k.id+'"  class="styled '+k.className+'" value="'+m+'"><span><span><span>'+m+"</span></span></span>");
},fileActivate:function(k,l){a(k).wrap('<div class="jClever-element" tabindex="'+l+'"><div class="jClever-element-file">').addClass("hidden-file").after('<span class="jClever-element-file-name"><span><span></span></span></span><span class="jClever-element-file-button"><span><span>'+j.fileUploadText+"</span></span></span>").wrap('<div class="input-file-helper">');
a(k).parents(".jClever-element").append(j.errorTemplate);var m=a(k).parents(".jClever-element").find(".jClever-element-file-name>span>span");a(k).on("change.jClever",function(){var n=a(this).val();
n=n.split("\\");n=n[n.length-1];m.text(n);});a(k).parents(".jClever-element").on("keydown.jClever",function(n){switch(n.keyCode){case 32:a(k).trigger("click");
break;default:return;break;}return false;});a(k).parents(".jClever-element").focus(function(){a(this).addClass("focused");}).blur(function(){a(this).removeClass("focused");
});},inputActivate:function(k,l){a(k).wrap('<div class="jClever-element" tabindex="'+l+'"><div class="jClever-element-input"><div class="jClever-element-input"><div class="jClever-element-input">');
a(k).parents(".jClever-element").append(j.errorTemplate);a(k).on("focusin.jClever",function(){a(this).parents(".jClever-element").addClass("focused");});
a(k).on("focusout.jClever",function(){a(this).parents(".jClever-element").removeClass("focused");});},textareaActivate:function(k,l){a(k).wrap('<div class="jClever-element" tabindex="'+l+'"><div class="jClever-element-textarea"><div class="jClever-element-textarea"><div class="jClever-element-textarea">');
a(k).parents(".jClever-element").append(j.errorTemplate);a(k).on("focusin.jClever",function(){a(this).parents(".jClever-element").addClass("focused");});
a(k).on("focusout.jClever",function(){a(this).parents(".jClever-element").removeClass("focused");});},elementAdd:function(l,m,n){switch(m){case"input":break;
case"select":d.selectActivate(l,b,g);var k=a.extend(i,n.selectCollection);n.selectCollection=k;break;case"checkbox":d.checkboxActivate(l,g);break;case"radio":d.radioActivate(l,g);
break;case"textarea":break;default:}return n;},elementDisable:function(k){if(typeof k=="string"){k=a(k);}k.attr("disabled","disabled").closest(".jClever-element").addClass("disabled");
},elementEnable:function(k){if(typeof k=="string"){k=a(k);}k.removeAttr("disabled").closest(".jClever-element").removeClass("disabled");}};var f={};return this.each(function(){if(!a(this).hasClass("clevered")){a(this).addClass("clevered").addClass(j.selfClass);
d.init(this);f={selectCollection:i,destroy:function(k){d.destroy(k);},reset:function(k){d.reset(k);},selectSetPosition:function(k,l){if(a(k).length){d.selectSetPosition(a(k),l);
}},selectAdd:function(k){d.selectAdd(k);},checkboxSetState:function(l,k){if(a(l).length){d.checkboxSetState(a(l),k);}else{return false;}},radioSetState:function(k,l){if(a(k).length){d.radioSetState(a(k),l);
}else{return false;}},elementAdd:function(k,l,m){return d.elementAdd(k,l,m);},elementDisable:function(k){return d.elementDisable(k);},elementEnable:function(k){return d.elementEnable(k);
}};i={};a.data(a(this).get(0),"publicApi",f);return true;}});};a.fn.jCleverAPI=function(c){if(this.length>1){return false;}var f=a.data(a(this).get(0),"publicApi");
var e=[];for(var d=1;d<arguments.length;d++){e[d-1]=arguments[d];}if(typeof f[c]=="function"){if(arguments.length==1){e=new Array(a(this));}else{e[arguments.length-1]=f;
}var b=f[c].apply(arguments.callee,e);if(typeof b=="object"){a.data(a(this).get(0),"publicApi",b);}else{b=f;}return b;}else{return f[c];}};jQuery.jClever=true;
a(document).mousedown(function(b){if(a(b.target).parents(".jClever-element-select-wrapper").length===0){a(".jClever-element-select-list-wrapper:visible").hide();
}});})(jQuery);