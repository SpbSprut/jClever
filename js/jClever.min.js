(function(a){a.fn.jClever=function(e){var e=a.extend({applyTo:{select:!0,checkbox:!0,radio:!0,button:!0,file:!0,input:!0,textarea:!0},validate:{state:!1,items:{}},errorTemplate:'<span class="jClever-error-label"></span>',errorClassTemplate:"jClever-error-label",selfClass:"default",fileUploadText:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"},e),m={},j=[],l={},n={isNumeric:function(a){return/^\d+$/.test(a)},isString:function(a){return/^[a-zA-Z\u0410-\u042f\u0430-\u044f]+$/.test(a)},isAnyText:function(a){return/^[a-zA-Z\u0410-\u042f\u0430-\u044f0-9]+$/.test(a)},
isEmail:function(a){return/^([a-z0-9_-]+\.)*[a-z0-9_-]+@[a-z0-9_-]+(\.[a-z0-9_-]+)*\.[a-z]{2,4}$/.test(a)},isSiteURL:function(a){return/^((https?|ftp)\:\/\/)?([a-z0-9]{1,})([a-z0-9-.]*)\.([a-z]{2,4})$/.test(a)}},p=9999,i=1,h={init:function(b){!0===e.validate.state&&a(b).submit(function(){var c=a(b).get(0),d={};a(c).find(".error").removeClass("error");for(var f in e.validate.items)if(void 0!==c[f])for(var g in e.validate.items[f])switch(g){case "required":if(""==c[f].value||c[f].value==a(c[f]).data("placeholder"))d[f]=
e.validate.items[f][g];break;case "numeric":!0!=n.isNumeric(c[f].value)&&(d[f]=e.validate.items[f][g]);break;case "str":!0!=n.isString(c[f].value)&&(d[f]=e.validate.items[f][g]);break;case "stringAndNumeric":!0!=n.isAnyText(c[f].value)&&(d[f]=e.validate.items[f][g]);break;case "mail":!0!=n.isEmail(c[f].value)&&(d[f]=e.validate.items[f][g]);break;case "siteURL":!0!=n.isSiteURL(c[f].value)&&(d[f]=e.validate.items[f][g])}f=0;for(var h in d)if(void 0!=c[h]){g=d[h];var j=a(c[h]).parents(".jClever-element"),
k=j.find("."+e.errorClassTemplate);j.addClass("error");k.text(g);f++}return f?!1:!0});a(b).find("input[type=text], textarea").each(function(){var b=a(this),d=a(this).data("placeholder");""==b.val()&&b.val(d).addClass("placeholdered");b.focusin(function(){b.val()==d&&b.val("").removeClass("placeholdered")});b.focusout(function(){""==b.val()&&b.val(d).addClass("placeholdered")})});e.applyTo.select&&a(b).find("select").each(function(){l[a(this).attr("name")]={type:"select",value:a(this).attr("value")};
h.selectActivate(this,p,i);p--;i++});e.applyTo.checkbox&&a(b).find("input[type=checkbox]").each(function(){l[a(this).attr("name")]={type:"checkbox",value:a(this).is(":checked")?1:0};h.checkboxActivate(this,i);i++});e.applyTo.radio&&a(b).find("input[type=radio]").each(function(){l[a(this).attr("name")]={type:"radio",value:a(this).is(":checked")?1:0};h.radioActivate(this,i);i++});e.applyTo.file&&a(b).find("input[type=file]").each(function(){l[a(this).attr("name")]={type:"file",value:""};h.fileActivate(this,
i);i++});e.applyTo.button&&a(b).find("input[type=submit], input[type=reset], input[type=button]").each(function(){h.submitActivate(this,i);i++});e.applyTo.input&&a(b).find("input[type=text], input[type=password]").each(function(){h.inputActivate(this,i);i++});e.applyTo.textarea&&a(b).find("textarea").each(function(){h.textareaActivate(this,i);i++});a(b).find("button[type=reset]").click(function(){h.reset(a(b))})},destroy:function(b){b.find("select").each(function(){var b=a(this).clone();a(this).parents(".jClever-element").empty().after(b)});
b.find("input[type=checkbox]").each(function(){var b=a(this).removeClass("hidden").clone();a(this).parents(".jClever-element").empty().after(b)});b.find("input[type=radio]").each(function(){var b=a(this).removeClass("hidden").clone();a(this).parents(".jClever-element").empty().after(b)});b.find(".jClever-element").remove();b.removeClass("clevered")},reset:function(b){b.find("input[type=radio], input[type=checkbox], select, input[type=file]").each(function(){if(l[a(this).attr("name")])switch(l[a(this).attr("name")].type){case "select":h.selectSetPosition(a(this),
l[a(this).attr("name")].value);break;case "checkbox":h.checkboxSetState(a(this),l[a(this).attr("name")].value);break;case "radio":h.radioSetState(a(this),l[a(this).attr("name")].value);break;case "file":h.fileSetState(a(this),l[a(this).attr("name")].value)}})},selectSetPosition:function(a,c){a.find("option").removeAttr("selected");a.find('option[value="'+c+'"]').attr("selected","selected");a.trigger("change")},selectAdd:function(b){a(element).find(b).each(function(){l[a(this).attr("name")]={type:"select",
value:a(this).attr("value")};h.selectActivate(this,p,i);p--;i++})},checkboxSetState:function(a,c){1==c?a.attr("checked","checked"):a.removeAttr("checked");a.trigger("change")},radioSetState:function(a,c){1==c?a.attr("checked","checked"):a.removeAttr("checked");a.trigger("change")},fileSetState:function(a,c){a.parents(".jClever-element-file").find(".jClever-element-file-name").text(c)},selectCollectionExtend:function(b,c){b[c.attr("name")]={object:c,updateFromHTML:function(b){a("select[name="+this.object[0].name+
"]").html(b).trigger("update");return!1},updateFromJsonObject:function(b){var c="",g;for(g in b)c+='<option value="'+g+'">'+b[g]+"</option>";a("select[name="+this.object[0].name+"]").html(c).trigger("update");return!1}};return b},selectActivate:function(b,c,d){j[a(b).attr("name")]={};m=h.selectCollectionExtend(m,a(b));var f=a(b).width();a(b).wrap('<div class="jClever-element" style="z-index:'+c+';"><div class="jClever-element-select-wrapper" style="width:'+f+"px; z-index:"+c+';"><div class="jClever-element-select-wrapper-design"><div class="jClever-element-select-wrapper-design">').after('<span class="jClever-element-select-center"></span><span class="jClever-element-select-right"><span>v</span></span><div class="jClever-element-select-list-wrapper" style="z-index:'+
c+';"><ul class="jClever-element-select-list"></ul></div>');var g=a(b).parents(".jClever-element").attr("tabindex",d),i=g.find(".jClever-element-select-center");g.find(".jClever-element-select-right");var l=g.find(".jClever-element-select-list"),k=g.find(".jClever-element-select-list-wrapper"),c=a("label[for="+a(b).attr("id")+"]");g.append(e.errorTemplate);a(b).find("option").each(function(){a(this).is(":selected")?g.find(".jClever-element-select-list").append(a('<li class="active" data-value="'+
a(this).val()+'"><span><i>'+a(this).text()+"</i></span></li>")):g.find(".jClever-element-select-list").append(a('<li data-value="'+a(this).val()+'"><span><i>'+a(this).text()+"</i></span></li>"))});a(b).find(":selected")?i.text(a(b).find("option:selected").text()):i.text(a(b).find("option:eq(0)").text());g.on("click.jClever",".jClever-element-select-center, .jClever-element-select-right",function(){k.is(":visible")?a(".jClever-element-select-list-wrapper").hide():(a(".jClever-element-select-list-wrapper").hide(),
k.show(),j[a(b).attr("name")]=k.jScrollPane().data("jsp"))});k.on("blur.jClever",function(){a(this).hide()});g.on("click.jClever","li",function(){var c=a(this).attr("data-value");l.find("li.active").removeClass("active");a(this).addClass("active");a(b).find("option").removeAttr("selected");a(b).find('option[value="'+c+'"]').attr("selected","selected");a(b).trigger("change");k.hide();return!1});a(b).on("change.jClever",function(){i.text(a(this).find(":selected").text())});a(b).on("update.jClever",
function(){var c=a(this).parents(".jClever-element-select-wrapper").find(".jClever-element-select-list").empty();a(this).find("option").each(function(){c.append(a('<li data-value="'+a(this).val()+'"><span><i>'+a(this).text()+"</i></span></li>"))});a(this).parents(".jClever-element-select-wrapper").find(".jClever-element-select-center").text(a(b).find("option:eq(0)").text())});g.on("focus.jClever",function(){a(this).addClass("focused")}).blur(function(){a(this).removeClass("focused")});c.on("click.jClever",
function(){g.trigger("focus");k.show();j[a(b).attr("name")]=k.jScrollPane().data("jsp")});var n="",p=null;g.on("keydown.jClever",function(c){var d=a(b)[0].selectedIndex;switch(c.keyCode){case 40:d<a(b).find("option").length-1&&d++;break;case 38:0<d&&d--;break;case 13:k.is(":visible")?k.hide():(k.show(),j[a(b).attr("name")]=k.jScrollPane().data("jsp"));break;case 32:k.is(":visible")?k.hide():(k.show(),j[a(b).attr("name")]=k.jScrollPane().data("jsp"));break;case 9:return k.hide(),!0;default:n+=String.fromCharCode(c.keyCode),
clearTimeout(p),p=setTimeout(function(){for(var c=0,f=a(b)[0].options.length,e=0;e<f;e++)if("string"==typeof a(b)[0].options[e].text){var h=a(b)[0].options[e].text.toUpperCase();if(RegExp("^"+n,"i").test(h)){d=c;a(b)[0].selectedIndex=d;g.find("li.selected").removeClass("selected");g.find("li:eq("+d+")").addClass("selected");g.find("option").removeAttr("selected");g.find("option:eq("+d+")").attr("selected","selected");a(b).trigger("change");k.is(":visible")&&j[a(b).attr("name")].scrollToElement(g.find("li:eq("+
d+")"));break}c++}n=""},500)}a(b)[0].selectedIndex=d;g.find("li.selected").removeClass("selected");g.find("li:eq("+d+")").addClass("selected");g.find("option").removeAttr("selected");g.find("option:eq("+d+")").attr("selected","selected");a(b).trigger("change");k.is(":visible")&&j[a(b).attr("name")].scrollToElement(g.find("li:eq("+d+")"));return!1})},checkboxActivate:function(b,c){var d=a(b).wrap('<div class="jClever-element" tabindex="'+c+'">').addClass("hidden").after('<span class="jClever-element-checkbox-twins"><span class="jClever-element-checkbox-twins-element"></span><span class="jClever-element-checkbox-twins-color"></span></span>'),
f=d.attr("id");d.parents(".jClever-element").append(e.errorTemplate);d.is(":checked")&&(d.next(".jClever-element-checkbox-twins").addClass("checked"),a("label[for="+f+"]").addClass("active"));a(b).attr("disabled")?d.parents(".jClever-element").addClass("disabled"):(d.on("change.jClever",function(){a(this).is(":checked")?(d.next(".jClever-element-checkbox-twins").addClass("checked"),a("label[for="+f+"]").addClass("active")):(d.next(".jClever-element-checkbox-twins").removeClass("checked"),a("label[for="+
f+"]").removeClass("active"))}),d.next(".jClever-element-checkbox-twins").on("click",function(){var b=a(this);b.prev("input[type=checkbox]").is(":checked")?b.prev("input[type=checkbox]").removeAttr("checked"):b.prev("input[type=checkbox]").attr("checked","checked");b.prev("input[type=checkbox]").trigger("change")}),d.parent(".jClever-element").on("keydown.jClever",function(b){var c=a(this).find("input[type=checkbox]");switch(b.keyCode){case 32:c.is(":checked")?c.removeAttr("checked"):c.attr("checked",
"checked");c.trigger("change");break;default:return}return!1}),d.parent(".jClever-element").focus(function(){a(this).addClass("focused")}).blur(function(){a(this).removeClass("focused")}))},radioActivate:function(b,c){var d=a(b).wrap('<div class="jClever-element" tabindex="'+c+'">').addClass("hidden").after('<span class="jClever-element-radio-twins"><span class="jClever-element-radio-twins-element"></span><span class="jClever-element-radio-twins-color"></span></span>'),f=d.attr("id");d.parents(".jClever-element").append(e.errorTemplate);
d.is(":checked")&&(d.next(".jClever-element-radio-twins").addClass("checked"),a("label[for="+f+"]").addClass("active"));a(b).attr("disabled")?d.parents(".jClever-element").addClass("disabled"):(d.on("change.jClever",function(){var c=a(this);c.is(":checked")?(c.next(".jClever-element-radio-twins").addClass("checked"),a("label[for="+f+"]").addClass("active")):(c.next(".jClever-element-radio-twins").removeClass("checked"),a("label[for="+f+"]").removeClass("active"));a('input:radio[name="'+a(b).attr("name")+
'"]').not(a(b)).each(function(){a(this).attr("checked",!1).next(".jClever-element-radio-twins").removeClass("checked");a("label[for="+a(this).attr("id")+"]").removeClass("active")})}),d.next(".jClever-element-radio-twins").on("click",function(){var b=a(this);b.prev("input[type=radio]").is(":checked")?b.prev("input[type=radio]").attr("checked"):b.prev("input[type=radio]").attr("checked","checked");b.prev("input[type=radio]").trigger("change")}),d.parent(".jClever-element").on("keydown.jClever",function(b){var c=
a(this).find("input[type=radio]");switch(b.keyCode){case 32:c.is(":checked")?c.removeAttr("checked"):c.attr("checked","checked");c.trigger("change");break;default:return}return!1}),d.parent(".jClever-element").focus(function(){a(this).addClass("focused")}).blur(function(){a(this).removeClass("focused")}))},submitActivate:function(b){var c=a(b).attr("value");a(b).replaceWith('<button type="'+b.type+'" name="'+b.name+'" id="'+b.id+'"  class="styled '+b.className+'" value="'+c+'"><span><span><span>'+
c+"</span></span></span>")},fileActivate:function(b,c){a(b).wrap('<div class="jClever-element" tabindex="'+c+'"><div class="jClever-element-file">').addClass("hidden-file").after('<span class="jClever-element-file-name"><span><span></span></span></span><span class="jClever-element-file-button"><span><span>'+e.fileUploadText+"</span></span></span>").wrap('<div class="input-file-helper">');a(b).parents(".jClever-element").append(e.errorTemplate);var d=a(b).parents(".jClever-element").find(".jClever-element-file-name>span>span");
a(b).on("change.jClever",function(){var b=a(this).val(),b=b.split("\\"),b=b[b.length-1];d.text(b)});a(b).parents(".jClever-element").on("keydown.jClever",function(c){switch(c.keyCode){case 32:a(b).trigger("click");break;default:return}return!1});a(b).parents(".jClever-element").focus(function(){a(this).addClass("focused")}).blur(function(){a(this).removeClass("focused")})},inputActivate:function(b,c){a(b).wrap('<div class="jClever-element" tabindex="'+c+'"><div class="jClever-element-input"><div class="jClever-element-input"><div class="jClever-element-input">');
a(b).parents(".jClever-element").append(e.errorTemplate);a(b).on("focusin.jClever",function(){a(this).parents(".jClever-element").addClass("focused")});a(b).on("focusout.jClever",function(){a(this).parents(".jClever-element").removeClass("focused")})},textareaActivate:function(b,c){a(b).wrap('<div class="jClever-element" tabindex="'+c+'"><div class="jClever-element-textarea"><div class="jClever-element-textarea"><div class="jClever-element-textarea">');a(b).parents(".jClever-element").append(e.errorTemplate);
a(b).on("focusin.jClever",function(){a(this).parents(".jClever-element").addClass("focused")});a(b).on("focusout.jClever",function(){a(this).parents(".jClever-element").removeClass("focused")})},elementAdd:function(b,c,d){switch(c){case "select":h.selectActivate(b,p,i),b=a.extend(m,d.selectCollection),d.selectCollection=b}return d}},q={};return this.each(function(){if(!a(this).hasClass("clevered"))return a(this).addClass("clevered").addClass(e.selfClass),h.init(this),q={selectCollection:m,destroy:function(a){h.destroy(a)},
reset:function(a){h.reset(a)},selectSetPosition:function(b,c){a(b).length&&h.selectSetPosition(a(b),c)},selectAdd:function(a){h.selectAdd(a)},checkboxSetState:function(b,c){if(a(b).length)h.checkboxSetState(a(b),c);else return!1},radioSetState:function(b,c){if(a(b).length)h.radioSetState(a(b),c);else return!1},elementAdd:function(a,c,d){return h.elementAdd(a,c,d)}},m={},a.data(a(this).get(0),"publicApi",q),!0})};a.fn.jCleverAPI=function(e){if(1<this.length)return!1;for(var m=a.data(a(this).get(0),
"publicApi"),j=[],l=1;l<arguments.length;l++)j[l-1]=arguments[l];return"function"==typeof m[e]?(1==arguments.length?j=Array(a(this)):j[arguments.length-1]=m,j=m[e].apply(arguments.callee,j),"object"==typeof j?a.data(a(this).get(0),"publicApi",j):j=m,j):m[e]};jQuery.jClever=!0;a(document).mousedown(function(e){0===a(e.target).parents(".jClever-element-select-wrapper").length&&a(".jClever-element-select-list-wrapper:visible").hide()})})(jQuery);